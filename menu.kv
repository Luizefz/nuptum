#:kivy 2.1.0
ManagerScreen:
    HomeScreen:
        id: homescreen
    SearchScreen:
        id: searchscreen

<HomeScreen>:
    name: "homescreen"

    FitImage:
        pos_hint: {"center_x": 0.25, "center_y": 0.9}
        size_hint: None, None
        size: 154, 65
        source: 'assets/Nuptum_logo.png'

    MDIconButton:
        icon: "magnify"
        user_font_size: "72sp"
        md_bg_color: "#0F8E76"
        pos_hint: {"center_x": 0.80, "center_y": 0.9}
        on_release: app.root.current = "searchscreen"
    
    MDLabel:
        text: "Today Top Songs"
        font_name: "fonts/Poppins-Medium.ttf"
        color: "#BCBCBC"
        font_size: "22sp"
        pos_hint: {"center_y": 0.75, "center_x": 0.5}
        size_hint: 0.64, None
        height: "40dp"

    ScrollView:
        do_scroll_y: False
        do_scroll_x: True 
        pos_hint: {'center_y': 0.56, 'center_x': .52}
        size_hint: 0.63, 0
        size_hint_y: .3
        bar_width: 0

        GridLayout:
            id: top_today_grid
            size_hint_x: None
            width: self.minimum_width
            height: self.minimum_height
            rows: 1
            spacing: 10
            padding: 5

            BoxLayout:
                orientation: 'vertical'
                size_hint_x: None
                width: "130dp"
                size: "130dp", "140dp"
                spacing: "10dp"
                FitImage:
                    source: 'assets/LoadButton.png'
                    size_hint: None, None
                    size: "130dp", "130dp"
                    radius: 8
                    on_touch_up: root.show_tranding_musics()
                Label:
                    text: " "
                    font_size: "14sp"
                    color: "#FFF6E0"
                    font_name: "fonts/Poppins-SemiBold.ttf"

    MDLabel:
        text: "Recently downloaded"
        font_name: "fonts/Poppins-Medium.ttf"
        color: "#BCBCBC"
        font_size: "22sp"
        pos_hint: {"center_y": 0.37, "center_x": 0.5}
        size_hint: 0.64, None
        height: "40dp"

    ScrollView:
        do_scroll_y: False
        do_scroll_x: True 
        pos_hint: {'center_y': 0.17, 'center_x': .52}
        size_hint: 0.63, 0
        size_hint_y: .3
        bar_width: 0

        GridLayout:
            id: top_month_grid
            size_hint_x: None
            width: self.minimum_width
            height: self.minimum_height
            rows: 1
            spacing: 10
            padding: 5
            BoxLayout:
                orientation: 'vertical'
                size_hint_x: None
                width: "130dp"
                size: "130dp", "140dp"
                spacing: "10dp"
    MDIconButton:
        icon: "refresh"
        user_font_size: "72sp"
        md_bg_color: "#0F8E76"
        pos_hint: {"center_x": 0.80, "center_y": 0.37}
        on_release: root.show_recently_musics()
                    
<SearchScreen>:
    name: "searchscreen"

    MDIconButton:
        icon: "chevron-left"
        md_bg_color: "#272829"
        pos_hint: {"center_x": .15, "center_y": 0.9}
        font_size: "26sp"
        on_release: app.root.current = "homescreen"

    MDTextField:
        id: music_name
        mode: "round"
        fill_color_normal: "#272829"
        line_color_focus: "#FFF6E0"
        text_color_focus: "#FFF6E0"
        error_color: "#BCBCBC"
        hint_text: "Pesquisar"
        required: True
        pos_hint: {"center_x": .45, "center_y": .6}
        size_hint_x: .6
        helper_text_mode: "on_error"
        helper_text: "Preencha este campo"
        on_text_validate: root.start_download()

    MDIconButton:
        icon: "magnify"
        md_bg_color: "#0F8E76"
        pos_hint: {"center_x": 0.85, "center_y": .6}
        font_size: "26sp"
        on_release: root.start_download()
